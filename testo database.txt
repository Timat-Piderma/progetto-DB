use marcodan_infoacall;

create table Cast (
	ID int auto_increment primary key,
	nome varchar(255) not null,
    cognome varchar(255) not null,
    codice_fiscale varchar(255) not null unique,
    ruolo enum ('non_catalogato', 'protagonista', 'comparsa', 'presentatore') default 'non_catalogato'
);

create table Genere (
	ID int auto_increment primary key,
    nome varchar(255) not null unique
);

create table Serie (
	ID int auto_increment primary key,
	nome varchar(255) not null,
    descrizione varchar(255) not null
);

create table Programma (
	ID int auto_increment primary key,
	titolo varchar(255) not null,
    descrizione varchar(255) not null,
	titolo varchar(255) not null,
    descrizione varchar(255) not null,
    immagine varchar(255) default null,
    link varchar(255) default null,
    genere varchar(255) not null,
	numero_stagione int default null,
	numero_episodio int default null,
    foreign key (ID_Serie) references Serie(ID),
    check (genere IN (select nome from Genere))
);

create table Canali (
	ID int auto_increment primary key,
    LCN int not null unique,
    nome varchar(255) not null
);

create table Utente (
	ID int auto_increment primary key,
    email varchar(255) not null unique,
    password varchar(255) not null,
    nome varchar(255) not null,
    cognome varchar(255) not null,
    data_nascita varchar(255) not null
);